<html>
<head>
<title>vieworders.php</title>
<style type="text/css"><!--
.syntax0 {
color: #000000;
}
.syntax1 {
color: #cc0000;
}
.syntax2 {
color: #ff8400;
}
.syntax3 {
color: #6600cc;
}
.syntax4 {
color: #cc6600;
}
.syntax5 {
color: #ff0000;
}
.syntax6 {
color: #9966ff;
}
.syntax7 {
background: #ffffcc;
color: #ff0066;
}
.syntax8 {
color: #006699;
font-weight: bold;
}
.syntax9 {
color: #009966;
font-weight: bold;
}
.syntax10 {
color: #0099ff;
font-weight: bold;
}
.syntax11 {
color: #66ccff;
font-weight: bold;
}
.syntax12 {
color: #02b902;
}
.syntax13 {
color: #ff00cc;
}
.syntax14 {
color: #cc00cc;
}
.syntax15 {
color: #9900cc;
}
.syntax16 {
color: #6600cc;
}
.syntax17 {
color: #0000ff;
}
.syntax18 {
color: #000000;
font-weight: bold;
}
.gutter {
background: #dbdbdb;
color: #000000;
}
.gutterH {
background: #dbdbdb;
color: #666699;
}
--></style>
</head>
<body bgcolor="#ffffff">
<pre><span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;!</span><span class="syntax9">DOCTYPE</span><span class="syntax9"> </span><span class="syntax9">html</span><span class="syntax9"> </span><span class="syntax9">PUBLIC</span><span class="syntax9"> </span><span class="syntax13">&quot;</span><span class="syntax13">-//IETF//DTD</span><span class="syntax13"> </span><span class="syntax13">HTML</span><span class="syntax13"> </span><span class="syntax13">2.0//EN</span><span class="syntax13">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   2:</span><span class="syntax17">&lt;?php</span>
<span class="gutter">   3:</span>  <span class="syntax2">//</span><span class="syntax2">create</span><span class="syntax2"> </span><span class="syntax2">short</span><span class="syntax2"> </span><span class="syntax2">variable</span><span class="syntax2"> </span><span class="syntax2">name</span>
<span class="gutter">   4:</span>  <span class="syntax10">$</span><span class="syntax10">DOCUMENT_ROOT</span> <span class="syntax18">=</span> <span class="syntax10">$</span><span class="syntax10">_SERVER</span><span class="syntax18">[</span><span class="syntax13">'</span><span class="syntax13">DOCUMENT_ROOT</span><span class="syntax13">'</span><span class="syntax18">]</span><span class="syntax18">;</span>
<span class="gutterH">   5:</span><span class="syntax17">?&gt;</span>
<span class="gutter">   6:</span>
<span class="gutter">   7:</span><span class="syntax17">&lt;html</span><span class="syntax17">&gt;</span>
<span class="gutter">   8:</span>  <span class="syntax17">&lt;head</span><span class="syntax17">&gt;</span>
<span class="gutter">   9:</span>    <span class="syntax17">&lt;meta</span><span class="syntax17"> </span><span class="syntax17">name</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">generator</span><span class="syntax14">&quot;</span><span class="syntax17"> </span><span class="syntax17">content</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">HTML</span><span class="syntax14"> </span><span class="syntax14">Tidy</span><span class="syntax14">,</span><span class="syntax14"> </span><span class="syntax14">see</span><span class="syntax14"> </span><span class="syntax14">www</span><span class="syntax14">.</span><span class="syntax14">w3</span><span class="syntax14">.</span><span class="syntax14">org</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutterH">  10:</span>
<span class="gutter">  11:</span>    <span class="syntax17">&lt;title</span><span class="syntax17">&gt;</span>Bob's Auto Parts - Customer Orders<span class="syntax17">&lt;/title</span><span class="syntax17">&gt;</span>
<span class="gutter">  12:</span>  <span class="syntax17">&lt;/head</span><span class="syntax17">&gt;</span>
<span class="gutter">  13:</span>
<span class="gutter">  14:</span>  <span class="syntax17">&lt;body</span><span class="syntax17">&gt;</span>
<span class="gutterH">  15:</span>    <span class="syntax17">&lt;h1</span><span class="syntax17">&gt;</span>Bob's Auto Parts<span class="syntax17">&lt;/h1</span><span class="syntax17">&gt;</span>
<span class="gutter">  16:</span>
<span class="gutter">  17:</span>    <span class="syntax17">&lt;h2</span><span class="syntax17">&gt;</span>Customer Orders<span class="syntax17">&lt;/h2</span><span class="syntax17">&gt;</span>
<span class="gutter">  18:</span>    <span class="syntax17">&lt;?php</span>
<span class="gutter">  19:</span>
<span class="gutterH">  20:</span>    <span class="syntax18">@</span>  <span class="syntax10">$</span><span class="syntax10">fp</span> <span class="syntax18">=</span> <span class="syntax9">fopen</span><span class="syntax18">(</span><span class="syntax14">&quot;</span><span class="syntax14">orders</span><span class="syntax14">.</span><span class="syntax14">txt</span><span class="syntax14">&quot;</span><span class="syntax18">,</span> <span class="syntax13">'</span><span class="syntax13">rb</span><span class="syntax13">'</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  21:</span>
<span class="gutter">  22:</span>       <span class="syntax8">if</span><span class="syntax18"> (</span><span class="syntax18">!</span><span class="syntax10">$</span><span class="syntax10">fp</span><span class="syntax18">)</span>
<span class="gutter">  23:</span>       <span class="syntax18">{</span>
<span class="gutter">  24:</span>         <span class="syntax8">echo</span> <span class="syntax13">'</span><span class="syntax13">&lt;p&gt;&lt;strong&gt;No</span><span class="syntax13"> </span><span class="syntax13">orders</span><span class="syntax13"> </span><span class="syntax13">pending.</span><span class="syntax13">'</span>
<span class="gutterH">  25:</span>             <span class="syntax18">.</span><span class="syntax13">'</span><span class="syntax13">Please</span><span class="syntax13"> </span><span class="syntax13">try</span><span class="syntax13"> </span><span class="syntax13">again</span><span class="syntax13"> </span><span class="syntax13">later.&lt;/strong&gt;&lt;/p&gt;</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutter">  26:</span>         <span class="syntax8">exit</span><span class="syntax18">;</span>
<span class="gutter">  27:</span>       <span class="syntax18">}</span>
<span class="gutter">  28:</span>
<span class="gutter">  29:</span>       <span class="syntax8">while</span><span class="syntax18"> (</span><span class="syntax18">!</span><span class="syntax9">feof</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">fp</span><span class="syntax18">)</span><span class="syntax18">)</span>
<span class="gutterH">  30:</span>       <span class="syntax18">{</span>
<span class="gutter">  31:</span>          <span class="syntax10">$</span><span class="syntax10">orderStr</span><span class="syntax18">=</span> <span class="syntax9">fgets</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">fp</span><span class="syntax18">,</span> <span class="syntax5">999</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  32:</span>          <span class="syntax8">echo</span> <span class="syntax10">$</span><span class="syntax10">orderStr</span><span class="syntax18">.</span><span class="syntax13">'</span><span class="syntax13">&lt;br</span><span class="syntax13"> </span><span class="syntax13">/&gt;</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutter">  33:</span>       <span class="syntax18">}</span>
<span class="gutter">  34:</span>
<span class="gutterH">  35:</span>    <span class="syntax8">echo</span> <span class="syntax13">'</span><span class="syntax13">Final</span><span class="syntax13"> </span><span class="syntax13">position</span><span class="syntax13"> </span><span class="syntax13">of</span><span class="syntax13"> </span><span class="syntax13">the</span><span class="syntax13"> </span><span class="syntax13">file</span><span class="syntax13"> </span><span class="syntax13">pointer</span><span class="syntax13"> </span><span class="syntax13">is</span><span class="syntax13"> </span><span class="syntax13">'</span><span class="syntax18">.</span><span class="syntax18">(</span><span class="syntax9">ftell</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">fp</span><span class="syntax18">)</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  36:</span>    <span class="syntax8">echo</span> <span class="syntax13">'</span><span class="syntax13">&lt;br</span><span class="syntax13"> </span><span class="syntax13">/&gt;</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutter">  37:</span>    <span class="syntax9">rewind</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">fp</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  38:</span>    <span class="syntax8">echo</span> <span class="syntax13">'</span><span class="syntax13">After</span><span class="syntax13"> </span><span class="syntax13">rewind,</span><span class="syntax13"> </span><span class="syntax13">the</span><span class="syntax13"> </span><span class="syntax13">position</span><span class="syntax13"> </span><span class="syntax13">is</span><span class="syntax13"> </span><span class="syntax13">'</span><span class="syntax18">.</span><span class="syntax18">(</span><span class="syntax9">ftell</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">fp</span><span class="syntax18">)</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  39:</span>    <span class="syntax8">echo</span> <span class="syntax13">'</span><span class="syntax13">&lt;br</span><span class="syntax13"> </span><span class="syntax13">/&gt;</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutterH">  40:</span>
<span class="gutter">  41:</span>       <span class="syntax9">fclose</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">fp</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  42:</span>
<span class="gutter">  43:</span>    <span class="syntax17">?&gt;</span>
<span class="gutter">  44:</span>  <span class="syntax17">&lt;/body</span><span class="syntax17">&gt;</span>
<span class="gutterH">  45:</span><span class="syntax17">&lt;/html</span><span class="syntax17">&gt;</span>
<span class="gutter">  46:</span>
<span class="gutter">  47:</span>
</span></pre>
</body>
</html>

