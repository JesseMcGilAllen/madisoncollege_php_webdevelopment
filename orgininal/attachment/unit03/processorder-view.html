<html>
<head>
<title>processorder.php</title>
<style type="text/css"><!--
.syntax0 {
color: #000000;
}
.syntax1 {
color: #cc0000;
}
.syntax2 {
color: #ff8400;
}
.syntax3 {
color: #6600cc;
}
.syntax4 {
color: #cc6600;
}
.syntax5 {
color: #ff0000;
}
.syntax6 {
color: #9966ff;
}
.syntax7 {
background: #ffffcc;
color: #ff0066;
}
.syntax8 {
color: #006699;
font-weight: bold;
}
.syntax9 {
color: #009966;
font-weight: bold;
}
.syntax10 {
color: #0099ff;
font-weight: bold;
}
.syntax11 {
color: #66ccff;
font-weight: bold;
}
.syntax12 {
color: #02b902;
}
.syntax13 {
color: #ff00cc;
}
.syntax14 {
color: #cc00cc;
}
.syntax15 {
color: #9900cc;
}
.syntax16 {
color: #6600cc;
}
.syntax17 {
color: #0000ff;
}
.syntax18 {
color: #000000;
font-weight: bold;
}
.gutter {
background: #dbdbdb;
color: #000000;
}
.gutterH {
background: #dbdbdb;
color: #666699;
}
--></style>
</head>
<body bgcolor="#ffffff">
<pre><span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;!</span><span class="syntax9">DOCTYPE</span><span class="syntax9"> </span><span class="syntax9">html</span><span class="syntax9"> </span><span class="syntax9">PUBLIC</span><span class="syntax9"> </span><span class="syntax13">&quot;</span><span class="syntax13">-//IETF//DTD</span><span class="syntax13"> </span><span class="syntax13">HTML</span><span class="syntax13"> </span><span class="syntax13">2.0//EN</span><span class="syntax13">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   2:</span><span class="syntax17">&lt;?php</span>
<span class="gutter">   3:</span>  <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">create</span><span class="syntax2"> </span><span class="syntax2">short</span><span class="syntax2"> </span><span class="syntax2">variable</span><span class="syntax2"> </span><span class="syntax2">names</span>
<span class="gutter">   4:</span>  <span class="syntax10">$</span><span class="syntax10">tireqty</span> <span class="syntax18">=</span> <span class="syntax10">$</span><span class="syntax10">_POST</span><span class="syntax18">[</span><span class="syntax13">'</span><span class="syntax13">tireqty</span><span class="syntax13">'</span><span class="syntax18">]</span><span class="syntax18">;</span>
<span class="gutterH">   5:</span>  <span class="syntax10">$</span><span class="syntax10">oilqty</span> <span class="syntax18">=</span> <span class="syntax10">$</span><span class="syntax10">_POST</span><span class="syntax18">[</span><span class="syntax13">'</span><span class="syntax13">oilqty</span><span class="syntax13">'</span><span class="syntax18">]</span><span class="syntax18">;</span>
<span class="gutter">   6:</span>  <span class="syntax10">$</span><span class="syntax10">sparkqty</span> <span class="syntax18">=</span> <span class="syntax10">$</span><span class="syntax10">_POST</span><span class="syntax18">[</span><span class="syntax13">'</span><span class="syntax13">sparkqty</span><span class="syntax13">'</span><span class="syntax18">]</span><span class="syntax18">;</span>
<span class="gutter">   7:</span>  <span class="syntax10">$</span><span class="syntax10">address</span> <span class="syntax18">=</span> <span class="syntax10">$</span><span class="syntax10">_POST</span><span class="syntax18">[</span><span class="syntax13">'</span><span class="syntax13">address</span><span class="syntax13">'</span><span class="syntax18">]</span><span class="syntax18">;</span>
<span class="gutter">   8:</span>
<span class="gutter">   9:</span>  <span class="syntax10">$</span><span class="syntax10">DOCUMENT_ROOT</span> <span class="syntax18">=</span> <span class="syntax10">$</span><span class="syntax10">_SERVER</span><span class="syntax18">[</span><span class="syntax13">'</span><span class="syntax13">DOCUMENT_ROOT</span><span class="syntax13">'</span><span class="syntax18">]</span><span class="syntax18">;</span>
<span class="gutterH">  10:</span><span class="syntax17">?&gt;</span>
<span class="gutter">  11:</span>
<span class="gutter">  12:</span><span class="syntax17">&lt;html</span><span class="syntax17">&gt;</span>
<span class="gutter">  13:</span>  <span class="syntax17">&lt;head</span><span class="syntax17">&gt;</span>
<span class="gutter">  14:</span>    <span class="syntax17">&lt;meta</span><span class="syntax17"> </span><span class="syntax17">name</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">generator</span><span class="syntax14">&quot;</span><span class="syntax17"> </span><span class="syntax17">content</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">HTML</span><span class="syntax14"> </span><span class="syntax14">Tidy</span><span class="syntax14">,</span><span class="syntax14"> </span><span class="syntax14">see</span><span class="syntax14"> </span><span class="syntax14">www</span><span class="syntax14">.</span><span class="syntax14">w3</span><span class="syntax14">.</span><span class="syntax14">org</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutterH">  15:</span>
<span class="gutter">  16:</span>    <span class="syntax17">&lt;title</span><span class="syntax17">&gt;</span>Bob's Auto Parts - Order Results<span class="syntax17">&lt;/title</span><span class="syntax17">&gt;</span>
<span class="gutter">  17:</span>  <span class="syntax17">&lt;/head</span><span class="syntax17">&gt;</span>
<span class="gutter">  18:</span>
<span class="gutter">  19:</span>  <span class="syntax17">&lt;body</span><span class="syntax17">&gt;</span>
<span class="gutterH">  20:</span>    <span class="syntax17">&lt;h1</span><span class="syntax17">&gt;</span>Bob's Auto Parts<span class="syntax17">&lt;/h1</span><span class="syntax17">&gt;</span>
<span class="gutter">  21:</span>
<span class="gutter">  22:</span>    <span class="syntax17">&lt;h2</span><span class="syntax17">&gt;</span>Order Results<span class="syntax17">&lt;/h2</span><span class="syntax17">&gt;</span>
<span class="gutter">  23:</span>    <span class="syntax17">&lt;?php</span>
<span class="gutter">  24:</span>    <span class="syntax10">$</span><span class="syntax10">date</span> <span class="syntax18">=</span> <span class="syntax9">date</span><span class="syntax18">(</span><span class="syntax13">'</span><span class="syntax13">H:i,</span><span class="syntax13"> </span><span class="syntax13">jS</span><span class="syntax13"> </span><span class="syntax13">F</span><span class="syntax13">'</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutterH">  25:</span>
<span class="gutter">  26:</span>    <span class="syntax8">echo</span> <span class="syntax13">'</span><span class="syntax13">&lt;p&gt;Order</span><span class="syntax13"> </span><span class="syntax13">processed</span><span class="syntax13"> </span><span class="syntax13">at</span><span class="syntax13"> </span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutter">  27:</span>    <span class="syntax8">echo</span> <span class="syntax10">$</span><span class="syntax10">date</span><span class="syntax18">;</span>
<span class="gutter">  28:</span>    <span class="syntax8">echo</span> <span class="syntax13">'</span><span class="syntax13">&lt;/p&gt;</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutter">  29:</span>
<span class="gutterH">  30:</span>    <span class="syntax8">echo</span> <span class="syntax13">'</span><span class="syntax13">&lt;p&gt;Your</span><span class="syntax13"> </span><span class="syntax13">order</span><span class="syntax13"> </span><span class="syntax13">is</span><span class="syntax13"> </span><span class="syntax13">as</span><span class="syntax13"> </span><span class="syntax13">follows:</span><span class="syntax13"> </span><span class="syntax13">&lt;/p&gt;</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutter">  31:</span>
<span class="gutter">  32:</span>    <span class="syntax10">$</span><span class="syntax10">totalqty</span> <span class="syntax18">=</span> <span class="syntax5">0</span><span class="syntax18">;</span>
<span class="gutter">  33:</span>    <span class="syntax10">$</span><span class="syntax10">totalqty</span> <span class="syntax18">=</span> <span class="syntax10">$</span><span class="syntax10">tireqty</span> <span class="syntax18">+</span> <span class="syntax10">$</span><span class="syntax10">oilqty</span> <span class="syntax18">+</span> <span class="syntax10">$</span><span class="syntax10">sparkqty</span><span class="syntax18">;</span>
<span class="gutter">  34:</span>    <span class="syntax8">echo</span> <span class="syntax13">'</span><span class="syntax13">Items</span><span class="syntax13"> </span><span class="syntax13">ordered:</span><span class="syntax13"> </span><span class="syntax13">'</span><span class="syntax18">.</span><span class="syntax10">$</span><span class="syntax10">totalqty</span><span class="syntax18">.</span><span class="syntax13">'</span><span class="syntax13">&lt;br</span><span class="syntax13"> </span><span class="syntax13">/&gt;</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutterH">  35:</span>
<span class="gutter">  36:</span>    <span class="syntax8">if</span><span class="syntax18">(</span> <span class="syntax10">$</span><span class="syntax10">totalqty</span> <span class="syntax18">=</span><span class="syntax18">=</span> <span class="syntax5">0</span><span class="syntax18">)</span>
<span class="gutter">  37:</span>    <span class="syntax18">{</span>
<span class="gutter">  38:</span>      <span class="syntax8">echo</span> <span class="syntax13">'</span><span class="syntax13">You</span><span class="syntax13"> </span><span class="syntax13">did</span><span class="syntax13"> </span><span class="syntax13">not</span><span class="syntax13"> </span><span class="syntax13">order</span><span class="syntax13"> </span><span class="syntax13">anything</span><span class="syntax13"> </span><span class="syntax13">on</span><span class="syntax13"> </span><span class="syntax13">the</span><span class="syntax13"> </span><span class="syntax13">previous</span><span class="syntax13"> </span><span class="syntax13">page!&lt;br</span><span class="syntax13"> </span><span class="syntax13">/&gt;</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutter">  39:</span>    <span class="syntax18">}</span>
<span class="gutterH">  40:</span>    <span class="syntax8">else</span>
<span class="gutter">  41:</span>    <span class="syntax18">{</span>
<span class="gutter">  42:</span>      <span class="syntax8">if</span><span class="syntax18"> (</span> <span class="syntax10">$</span><span class="syntax10">tireqty</span><span class="syntax18">&gt;</span><span class="syntax5">0</span> <span class="syntax18">)</span>
<span class="gutter">  43:</span>        <span class="syntax8">echo</span> <span class="syntax10">$</span><span class="syntax10">tireqty</span><span class="syntax18">.</span><span class="syntax13">'</span><span class="syntax13"> </span><span class="syntax13">tires&lt;br</span><span class="syntax13"> </span><span class="syntax13">/&gt;</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutter">  44:</span>      <span class="syntax8">if</span><span class="syntax18"> (</span> <span class="syntax10">$</span><span class="syntax10">oilqty</span><span class="syntax18">&gt;</span><span class="syntax5">0</span> <span class="syntax18">)</span>
<span class="gutterH">  45:</span>        <span class="syntax8">echo</span> <span class="syntax10">$</span><span class="syntax10">oilqty</span><span class="syntax18">.</span><span class="syntax13">'</span><span class="syntax13"> </span><span class="syntax13">bottles</span><span class="syntax13"> </span><span class="syntax13">of</span><span class="syntax13"> </span><span class="syntax13">oil&lt;br</span><span class="syntax13"> </span><span class="syntax13">/&gt;</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutter">  46:</span>      <span class="syntax8">if</span><span class="syntax18"> (</span> <span class="syntax10">$</span><span class="syntax10">sparkqty</span><span class="syntax18">&gt;</span><span class="syntax5">0</span> <span class="syntax18">)</span>
<span class="gutter">  47:</span>        <span class="syntax8">echo</span> <span class="syntax10">$</span><span class="syntax10">sparkqty</span><span class="syntax18">.</span><span class="syntax13">'</span><span class="syntax13"> </span><span class="syntax13">spark</span><span class="syntax13"> </span><span class="syntax13">plugs&lt;br</span><span class="syntax13"> </span><span class="syntax13">/&gt;</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutter">  48:</span>    <span class="syntax18">}</span>
<span class="gutter">  49:</span>
<span class="gutterH">  50:</span>    <span class="syntax10">$</span><span class="syntax10">totalamount</span> <span class="syntax18">=</span> <span class="syntax5">0</span><span class="syntax18">.</span><span class="syntax5">00</span><span class="syntax18">;</span>
<span class="gutter">  51:</span>
<span class="gutter">  52:</span>    <span class="syntax9">define</span><span class="syntax18">(</span><span class="syntax13">'</span><span class="syntax13">TIREPRICE</span><span class="syntax13">'</span><span class="syntax18">,</span> <span class="syntax5">100</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  53:</span>    <span class="syntax9">define</span><span class="syntax18">(</span><span class="syntax13">'</span><span class="syntax13">OILPRICE</span><span class="syntax13">'</span><span class="syntax18">,</span> <span class="syntax5">10</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  54:</span>    <span class="syntax9">define</span><span class="syntax18">(</span><span class="syntax13">'</span><span class="syntax13">SPARKPRICE</span><span class="syntax13">'</span><span class="syntax18">,</span> <span class="syntax5">4</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutterH">  55:</span>
<span class="gutter">  56:</span>    <span class="syntax10">$</span><span class="syntax10">totalamount</span> <span class="syntax18">=</span> <span class="syntax10">$</span><span class="syntax10">tireqty</span> <span class="syntax18">*</span> TIREPRICE
<span class="gutter">  57:</span>                 <span class="syntax18">+</span> <span class="syntax10">$</span><span class="syntax10">oilqty</span> <span class="syntax18">*</span> OILPRICE
<span class="gutter">  58:</span>                 <span class="syntax18">+</span> <span class="syntax10">$</span><span class="syntax10">sparkqty</span> <span class="syntax18">*</span> SPARKPRICE<span class="syntax18">;</span>
<span class="gutter">  59:</span>
<span class="gutterH">  60:</span>    <span class="syntax10">$</span><span class="syntax10">totalamount</span><span class="syntax18">=</span><span class="syntax9">number_format</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">totalamount</span><span class="syntax18">,</span> <span class="syntax5">2</span><span class="syntax18">,</span> <span class="syntax13">'</span><span class="syntax13">.</span><span class="syntax13">'</span><span class="syntax18">,</span> <span class="syntax13">'</span><span class="syntax13"> </span><span class="syntax13">'</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  61:</span>
<span class="gutter">  62:</span>    <span class="syntax8">echo</span> <span class="syntax13">'</span><span class="syntax13">&lt;p&gt;Total</span><span class="syntax13"> </span><span class="syntax13">of</span><span class="syntax13"> </span><span class="syntax13">order</span><span class="syntax13"> </span><span class="syntax13">is</span><span class="syntax13"> </span><span class="syntax13">'</span><span class="syntax18">.</span><span class="syntax10">$</span><span class="syntax10">totalamount</span><span class="syntax18">.</span><span class="syntax13">'</span><span class="syntax13">&lt;/p&gt;</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutter">  63:</span>    <span class="syntax8">echo</span> <span class="syntax13">'</span><span class="syntax13">&lt;p&gt;Address</span><span class="syntax13"> </span><span class="syntax13">to</span><span class="syntax13"> </span><span class="syntax13">ship</span><span class="syntax13"> </span><span class="syntax13">to</span><span class="syntax13"> </span><span class="syntax13">is</span><span class="syntax13"> </span><span class="syntax13">'</span><span class="syntax18">.</span><span class="syntax10">$</span><span class="syntax10">address</span><span class="syntax18">.</span><span class="syntax13">'</span><span class="syntax13">&lt;/p&gt;</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutter">  64:</span>
<span class="gutterH">  65:</span>    <span class="syntax10">$</span><span class="syntax10">outputstring</span> <span class="syntax18">=</span> <span class="syntax10">$</span><span class="syntax10">date</span><span class="syntax18">.</span><span class="syntax14">&quot;</span><span class="syntax14">\t</span><span class="syntax14">&quot;</span><span class="syntax18">.</span><span class="syntax10">$</span><span class="syntax10">tireqty</span><span class="syntax18">.</span><span class="syntax14">&quot;</span><span class="syntax14"> </span><span class="syntax14">tires</span><span class="syntax14"> </span><span class="syntax14">\t</span><span class="syntax14">&quot;</span><span class="syntax18">.</span><span class="syntax10">$</span><span class="syntax10">oilqty</span><span class="syntax18">.</span><span class="syntax14">&quot;</span><span class="syntax14"> </span><span class="syntax14">oil\t</span><span class="syntax14">&quot;</span>
<span class="gutter">  66:</span>                      <span class="syntax18">.</span><span class="syntax10">$</span><span class="syntax10">sparkqty</span><span class="syntax18">.</span><span class="syntax14">&quot;</span><span class="syntax14"> </span><span class="syntax14">spark</span><span class="syntax14"> </span><span class="syntax14">plugs\t\$</span><span class="syntax14">&quot;</span><span class="syntax18">.</span><span class="syntax10">$</span><span class="syntax10">totalamount</span>
<span class="gutter">  67:</span>                      <span class="syntax18">.</span><span class="syntax14">&quot;</span><span class="syntax14">\t</span><span class="syntax14">&quot;</span><span class="syntax18">.</span> <span class="syntax10">$</span><span class="syntax10">address</span><span class="syntax18">.</span><span class="syntax14">&quot;</span><span class="syntax14">\n</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  68:</span>
<span class="gutter">  69:</span>    <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">open</span><span class="syntax2"> </span><span class="syntax2">file</span><span class="syntax2"> </span><span class="syntax2">to</span><span class="syntax2"> </span><span class="syntax2">append</span><span class="syntax2"> </span><span class="syntax2">HERE</span><span class="syntax2"> </span><span class="syntax2">with</span><span class="syntax2"> </span><span class="syntax2">fopen(),</span><span class="syntax2"> </span><span class="syntax2">use</span><span class="syntax2"> </span><span class="syntax2">a</span><span class="syntax2"> </span><span class="syntax2">file</span><span class="syntax2"> </span><span class="syntax2">handle</span><span class="syntax2"> </span><span class="syntax2">named:</span><span class="syntax2"> </span><span class="syntax2">$fp</span>
<span class="gutterH">  70:</span>
<span class="gutter">  71:</span>
<span class="gutter">  72:</span>    <span class="syntax8">if</span><span class="syntax18"> (</span><span class="syntax18">!</span><span class="syntax10">$</span><span class="syntax10">fp</span><span class="syntax18">)</span>  <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">Note</span><span class="syntax2"> </span><span class="syntax2">the</span><span class="syntax2"> </span><span class="syntax2">use</span><span class="syntax2"> </span><span class="syntax2">of</span><span class="syntax2"> </span><span class="syntax2">$fp</span><span class="syntax2"> </span><span class="syntax2">as</span><span class="syntax2"> </span><span class="syntax2">the</span><span class="syntax2"> </span><span class="syntax2">file</span><span class="syntax2"> </span><span class="syntax2">handle!</span>
<span class="gutter">  73:</span>    <span class="syntax18">{</span>
<span class="gutter">  74:</span>      <span class="syntax8">echo</span> <span class="syntax13">'</span><span class="syntax13">&lt;p&gt;&lt;strong&gt;</span><span class="syntax13"> </span><span class="syntax13">Your</span><span class="syntax13"> </span><span class="syntax13">order</span><span class="syntax13"> </span><span class="syntax13">could</span><span class="syntax13"> </span><span class="syntax13">not</span><span class="syntax13"> </span><span class="syntax13">be</span><span class="syntax13"> </span><span class="syntax13">processed</span><span class="syntax13"> </span><span class="syntax13">at</span><span class="syntax13"> </span><span class="syntax13">this</span><span class="syntax13"> </span><span class="syntax13">time.</span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13">'</span>
<span class="gutterH">  75:</span>           <span class="syntax18">.</span><span class="syntax13">'</span><span class="syntax13">Please</span><span class="syntax13"> </span><span class="syntax13">try</span><span class="syntax13"> </span><span class="syntax13">again</span><span class="syntax13"> </span><span class="syntax13">later.&lt;/strong&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutter">  76:</span>      <span class="syntax8">exit</span><span class="syntax18">;</span>
<span class="gutter">  77:</span>    <span class="syntax18">}</span> 
<span class="gutter">  78:</span>
<span class="gutter">  79:</span>    <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">Now</span><span class="syntax2"> </span><span class="syntax2">write</span><span class="syntax2"> </span><span class="syntax2">the</span><span class="syntax2"> </span><span class="syntax2">output</span><span class="syntax2"> </span><span class="syntax2">string</span><span class="syntax2"> </span><span class="syntax2">to</span><span class="syntax2"> </span><span class="syntax2">the</span><span class="syntax2"> </span><span class="syntax2">file</span><span class="syntax2"> </span><span class="syntax2">using</span><span class="syntax2"> </span><span class="syntax2">fwrite()</span>
<span class="gutterH">  80:</span>
<span class="gutter">  81:</span>    <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">And</span><span class="syntax2"> </span><span class="syntax2">close</span><span class="syntax2"> </span><span class="syntax2">the</span><span class="syntax2"> </span><span class="syntax2">file</span><span class="syntax2"> </span><span class="syntax2">with</span><span class="syntax2"> </span><span class="syntax2">fclose()</span>
<span class="gutter">  82:</span>
<span class="gutter">  83:</span>
<span class="gutter">  84:</span>    <span class="syntax8">echo</span> <span class="syntax13">'</span><span class="syntax13">&lt;p&gt;Order</span><span class="syntax13"> </span><span class="syntax13">written.&lt;/p&gt;</span><span class="syntax13">'</span><span class="syntax18">;</span> 
<span class="gutterH">  85:</span>    <span class="syntax17">?&gt;</span>
<span class="gutter">  86:</span>  <span class="syntax17">&lt;/body</span><span class="syntax17">&gt;</span>
<span class="gutter">  87:</span><span class="syntax17">&lt;/html</span><span class="syntax17">&gt;</span>
<span class="gutter">  88:</span>
<span class="gutter">  89:</span>
</span></pre>
</body>
</html>

