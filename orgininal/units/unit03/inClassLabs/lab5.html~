<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>

  
  <meta name="generator" content="HTML Tidy, see www.w3.org" />

  
  
  <title>In-class Lab 4</title>
  <link href="../../../css/basic.css" rel="stylesheet" type="text/css" />

  
  <script type="text/javascript" language="JavaScript">

<!--

function putSemester() {

    var today=new Date();

    var thisMonth=today.getMonth()+1;

    var thisYear=today.getFullYear();

    if(thisMonth <=6) {

        return "Spring, " + thisYear;

    }

    else {

       return "Fall, " + thisYear;

    }

}//-->

  

  </script>
  
  <style type="text/css">

<!--

    .bgStripes {

        background-image:url(../../../images/Xstripes.gif);

        background-attachment: fixed;

    }

    

    body {

        background-color:white;

    }

    

    strong {

        font-family: Arial, Helvetica, sans-serif;

    }

    

 

-->

  

  </style>
</head>


<body style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">

<table class="bgStripes" border="0" width="100%">

  <tbody>

    <tr name="firstRow">

      <td valign="top" width="80"><span style="font-size: x-small; font-weight: bold;">
      
      <script type="text/javascript">

          <!--

            document.write(putSemester());

            -->

      </script>
      </span> <br />

      </td>

      <td style="text-align: center;"><span style="color: darkblue; font-size: medium; font-weight: bold;">PHP
and
MySQL Development</span> </td>

      <td align="right" valign="top" width="80"><span style="font-size: x-small; font-weight: bold;">3
Credits</span> </td>

    </tr>

    <tr>

      <td colspan="3" style="text-align: center;"><span style="font-size: xx-small; font-weight: bold;">152-166</span> </td>

    </tr>

  
  </tbody>
</table>

<h2>In-class Lab 4</h2>
<ol type="I">
<li class="row0">
<p>Exercise 1 - Write and read orders with PHP</p>
<ol type="1">
<li class="row1">
<p>
Create a directory named <b>lab04</b> under your <b>labs</b> directory
(which is under your webserver's document root <code>/var/www</code>).
Download the following 3 files for the "Bob's Auto Parts" application:
</p>
<blockquote>
<code>
<a href="orderform.html.txt">orderform.html</a><br>
<a href="processorder.php.txt">processorder.php</a><br>
<a href="vieworders.php.txt">vieworders.php</a><br>
</code>
</blockquote>
</li>
<li class="row1">
<p>
Then, modify <b>processorder.php</b> to write orders to a file named
<code>orders.txt</code> located in the same directory you saved the files in.
</p>
</li>
<li class="row0">
<p>
Open the <b>orders.txt</b> file in BlueFish or another editor to see the
format in which orders are written to the file.</p>
</li>
<li class="row0">
<p>
Run the <b>vieworders.php</b> script to see how it displays the Order records
from the <b>orders.txt</b> file.</p>
</li>
<li class="row1">
<p>
If you have problems making <b>processorder.php</b> work correctly
, consult your instructor.</p>
</li>
</ol>
</li>
<li class="row0">
<p>
Exercise 2 - Modify the PHP code to use locking</p>
<ol type="1">
<li class="row1">
<p>
Add the code to <b>processorder.php</b> to lock the <b>orders.txt</b> file before
writing to it to ensure exclusive access.
</p>
</li>
<li class="row1">
<p>
Finally, add the code to <b>vieworders.php</b> to lock the <b>orders.txt</b>
file before reading it. In this case use a shared lock, not an exclusive one!
</p>
</li>
<li class="row0">
<p>
Show your instructor the <b>processorder.php</b> and <b>vieworders.php</b>
scripts modified to include locking.
</p>
</li>
</ol>
</li>
</ol>
</body>
</html>
