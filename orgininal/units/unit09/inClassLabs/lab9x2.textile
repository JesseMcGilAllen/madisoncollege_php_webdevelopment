h2. In-class Lab 9.2


h3. Exercise 1

# If using your Linux VM, create directory *lab09* under your /var/www/labs directory, if it does not exist. Otherwise create directory *lab09* under the document root of whatever web server you are using. On the MATC Windows lab computers that will be: C:\Inetpub\wwwroot
# In jEdit or another text editor, create a PHP script file named *@lab8x2e1.php@* In the script, create 4 variables to hold a name, street address, city and 2 character state abbreviation. Assign appropriate values to each variable.
# Create a variable named *@$outputString@* and assign to it the concatenated list of the other 4 variables. Each of the 4 variables should be enclosed in double quotes and separated by commas. Put a newline character at the end of the string. Your assignment statement will be similar to this:
<br /><pre>
$outputString = '"$name","$address","$city","$state"'."\n";
</pre>
# Open a file named "mydata.txt" with *@fopen()@* in a directory that the web user can write to. You may use the upload directory you used for Lab 8.2. Open the file to append data to the end of it, and suppress any PHP errors generated by the *@fopen()@* function.
# After opening the file, you must check to make sure a nonempty file pointer was returned. If not, give an appropriate error message and exit.
# Otherwise, write *@$outputString@* to the file using the *@fwrite()@* function, and print an appropriate message such as: "$outputString written to file $filename".
# Remember to close the file explicitly before exiting. Test your code to verify that it writes to the file successfully.

h3. Exercise 2

# Make a copy of your script from Exercise 1 in a file named *@lab9x2e2.php@* and save it into your *lab09* directory.
# Change the name and address information so you will be able to distinguish this data record from the one written by your Exercise 1 script.
# Add code to lock the file immediately before writing to it, and then unlock it immediately afterwards.
# Test your code to be sure it still writes to the file with your changes.

h3. Exercise 3

# Make a copy of your script from Exercise 2 in a file named *@lab9x2e3.php@* and save it into your *lab09* directory.
# Again, change the name and address information so you will be able to distinguish this data record from the ones written by your Exercise 1 and 2 scripts.
# Add code to read the contents of the *mydata.txt* file using the *@file_get_contents()@* function after you write a data record to it.
# Display the contents of the file enclosed in "&lt;pre&gt;" tags so each record will be displayed on a separate line.
# Test your code and show it to your instructor.


<br />

---

[[Unit Nine => 152-166 Unit Nine Index]]

