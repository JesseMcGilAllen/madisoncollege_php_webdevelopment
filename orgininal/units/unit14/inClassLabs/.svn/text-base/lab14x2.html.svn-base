<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta name="generator" content="HTML Tidy, see www.w3.org" />
  <title>In-class Lab 14.2</title>
  <link href="../../../css/basic.css" rel="stylesheet" type="text/css" />
  <script type="text/javascript" language="JavaScript">
<!--
function putSemester() {
    var today=new Date();
    var thisMonth=today.getMonth()+1;
    var thisYear=today.getFullYear();
    if(thisMonth <=6) {
        return "Spring, " + thisYear;
    }
    else {
       return "Fall, " + thisYear;
    }
}//-->
  </script>
  <style type="text/css">
<!--
    .bgStripes {
        background-image:url(../../../images/Xstripes.gif);
        background-attachment: fixed;
    }
    body {
        background-color:white;
    }
    strong {
        font-family: Arial, Helvetica, sans-serif;
    }
-->
  </style>
</head>
<body style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">
<table class="bgStripes" border="0" width="100%">
  <tbody>
    <tr name="firstRow">
      <td valign="top" width="80"><span style="font-size: x-small; font-weight: bold;">
      <script type="text/javascript">
<!--
document.write(putSemester());
-->
      </script>
      </span> <br />
</td>
<td style="text-align: center;"><span style="color: darkblue; font-size: medium; font-weight: bold;">
PHP Web Development with MySQL</span> </td>
<td align="right" valign="top" width="80"><span style="font-size: x-small; font-weight: bold;">
3 Credits</span> </td>
</tr>
<tr>
<td colspan="3" style="text-align: center;"><span style="font-size: xx-small; font-weight: bold;">
152-166</span> </td>
</tr>
</tbody>
</table>
<h2>In-class Lab 14.2</h2>
<ol type="I">
<li class="row0">
<p>Exercise 1</p>
<ol type="1">
<li class="row0">
<p>
In this lab, we are going to use the techniques discussed in the debugging
section of Unit 14 to fix a MySQL query that is not working.
</p><p>
Here is the current PHP script with SQL query:
</p>
<blockquote><code><pre>
&lt;?php
  $link = mysql_connect('localhost','student','student');
  mysql_select_db('Northwind', $link);

  mysql_query("SELECT ID, Name, Descrip"
             ." FROM Categories", $link);
?>
</pre></code></blockquote>
</li>
</li><li class="row0">
<p>
If using your Linux VM, create directory <b>lab14</b> under your
<b>/var/www/labs</b> directory, if it does not exist.
Otherwise create directory <b>lab14</b> under
the document root of whatever web server you are using.
If using XAMPP on your external USB drive it will probably be either:
<b>E:\xampp\htdocs</b> or: <b>F:\xampp\htdocs</b>
</p>
</li>
<li class="row1">
<p>In <b>jEdit</b> or another text editor, create a PHP script file named
<b>lab14x2.php</b> . Copy the PHP code above to this file. You will be adding 
code to this file to help you debug the MySQL query.
</p>
</li>
<li class="row1">
<p>
First, assign the SQL query string to a variable named something like <b>$sql</b>
or <b>$query</b> and add a debug print to display the actual query string in
your browser.
</p>
</li>
<li class="row1">
<p>
Next, add the code to test for all possible MySQL function error returns, and
display the MySQL error message using <b>mysql_error()</b> as part of the error
message string you display to the user. Display your error string by passing it
to either <b>exit()</b> or <b>die()</b> (actually synonyms for the same function). 
</p>
</li>
<li class="row0">
<p>
Debug the MySQL query, using the techniques discussed in Unit 14. Try copying
and pasting the actual SQL query from your script's output into a command-line
MySQL session. What types of things can you do at the MySQL command line to
help you figure out what is wrong with the query?
<br><br>
<hr width="75%" />
</p>
</li>
<li class="row1">
<p>
When you get the SQL query debugged, show your script and output to your
instructor. Do NOT remove any of the code you used to debug the query,
your instructor will want to see it.
</p></li>
</ol>
<p><hr width="50%" /></p>
</li>
</ol>
</body>
</html>
