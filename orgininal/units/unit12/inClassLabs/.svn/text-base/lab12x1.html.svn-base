<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta name="generator" content="HTML Tidy, see www.w3.org" />
  <title>In-class Lab 12.1</title>
  <link href="../../../css/basic.css" rel="stylesheet" type="text/css" />
  <script type="text/javascript" language="JavaScript">
<!--
function putSemester() {
    var today=new Date();
    var thisMonth=today.getMonth()+1;
    var thisYear=today.getFullYear();
    if(thisMonth <=6) {
        return "Spring, " + thisYear;
    }
    else {
       return "Fall, " + thisYear;
    }
}//-->
  </script>
  <style type="text/css">
<!--
    .bgStripes {
        background-image:url(../../../images/Xstripes.gif);
        background-attachment: fixed;
    }
    body {
        background-color:white;
    }
    strong {
        font-family: Arial, Helvetica, sans-serif;
    }
-->
  </style>
</head>
<body style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">
<table class="bgStripes" border="0" width="100%">
  <tbody>
    <tr name="firstRow">
      <td valign="top" width="80"><span style="font-size: x-small; font-weight: bold;">
      <script type="text/javascript">
          <!--
            document.write(putSemester());
            -->
      </script>
      </span> <br />
</td>
<td style="text-align: center;"><span style="color: darkblue; font-size: medium; font-weight: bold;">
PHP Web Development with MySQL</span> </td>
<td align="right" valign="top" width="80"><span style="font-size: x-small; font-weight: bold;">
3 Credits</span> </td>
</tr>
<tr>
<td colspan="3" style="text-align: center;"><span style="font-size: xx-small; font-weight: bold;">
152-166</span> </td>
</tr>
</tbody>
</table>
<h2>In-class Lab 12.1</h2>
<ol type="I">
<li class="row0">
<p>Exercise 1</p>
<ol type="1">
<li class="row0">
<p>
If using your Linux VM, create directory <b>lab12</b> under your
<b>/var/www/labs</b> directory, if it does not exist.
Otherwise create directory <b>lab12</b> under the document root of whatever
web server you are using.
If using XAMPP on your external USB drive it will probably be either:
<b>E:\xampp\htdocs</b> or: <b>F:\xampp\htdocs</b>
</p>
</li>
<li class="row1">
<p>In <b>jEdit</b> or another text editor, create a PHP script file named
<b>lab12x1.php</b> . In this script, you will connect to the class MySQL server,
select the Northwind database, and fetch a row of data to display. You should
use HTML tags in your file, including a title (&lt;title&gt;) in the &lt;head&gt;
section and in the &lt;body&gt; section (using &lt;h1&gt;).
</p>
</li>
<li class="row0">
<p>
First, connect to the class server using the mysql_connect() function:
</p>
<code>
$db = mysql_connect('itins3.matcmadison.edu','astudent','password');<br>
</code>
<p>
Only use your instructor-assigned username and password for the class server.
</p>
</li>
<li class="row1">
<p>
Next, test whether connection to the database was successful and exit
your script with an appropriate message if not.
</p></li>
<li class="row0">
<p>
Select the "Northwind" database using the mysql_select_db() function. Note
that, because the class server runs the Linux operating system, both database
names and table names <b>are</b> case sensitive, and the Northwind database
uses initcaps for the database name and all table names!
</p>
</li>
<li class="row1">
<p>
Again be sure to test whether the database was successfully selected and exit
with an error message if selection failed.
</p>
</li>
<li class="row0">
<p>
Run the following SELECT query against the Northwind database using the mysql_query()
function and saving the result set in a variable.
</p>
<code>
$result = mysql_query("SELECT * FROM Customers", $db);<br>
</code>
</li>
<li class="row1">
<p>
Test the variable containing the result set to determine whether the query failed.
If it failed, exit with an appropriate error message.
</p>
</li>
<li class="row1">
<p>
Use the mysql_fetch_assoc() function to fetch the first row of the result set
into a variable, as an associative array.
</p>
</li>
<li class="row1">
<p>
Then, use a foreach loop to traverse the columns of the row (record) returned
by mysql_fetch_assoc() printing out each key-value pair of the array, which
corresponds to the name and value of each column in that row of the database
table. Use &lt;br /&gt; tags so that each key-value pair prints on a separate line.
</p></li>
<li class="row1">
<p>
Finally, explicitly close your connection to the database using mysql_close() .
</p>
</li>
<li class="row1">
<p>Test your script to be sure it successfully connects to the class server
database and displays a row from the "Customers" table of the Northwind database.
Show the working script to your instructor.</p>
</li>
</ol>
<p><hr width="75%" /></p>
</li>
</ol>
</body>
</html>
