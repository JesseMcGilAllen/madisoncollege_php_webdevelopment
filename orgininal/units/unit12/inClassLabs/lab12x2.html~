<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta name="generator" content="HTML Tidy, see www.w3.org" />
  <title>In-class Lab 12.2</title>
  <link href="../../../css/basic.css" rel="stylesheet" type="text/css" />
  <script type="text/javascript" language="JavaScript">
<!--
function putSemester() {
    var today=new Date();
    var thisMonth=today.getMonth()+1;
    var thisYear=today.getFullYear();
    if(thisMonth <=6) {
        return "Spring, " + thisYear;
    }
    else {
       return "Fall, " + thisYear;
    }
}//-->
  </script>
  <style type="text/css">
<!--
    .bgStripes {
        background-image:url(../../../images/Xstripes.gif);
        background-attachment: fixed;
    }
    body {
        background-color:white;
    }
    strong {
        font-family: Arial, Helvetica, sans-serif;
    }
-->
  </style>
</head>
<body style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">
<table class="bgStripes" border="0" width="100%">
  <tbody>
    <tr name="firstRow">
      <td valign="top" width="80"><span style="font-size: x-small; font-weight: bold;">
      <script type="text/javascript">
          <!--
            document.write(putSemester());
            -->
      </script>
      </span> <br />
</td>
<td style="text-align: center;"><span style="color: darkblue; font-size: medium; font-weight: bold;">
PHP Web Development with MySQL</span> </td>
<td align="right" valign="top" width="80"><span style="font-size: x-small; font-weight: bold;">
3 Credits</span> </td>
</tr>
<tr>
<td colspan="3" style="text-align: center;"><span style="font-size: xx-small; font-weight: bold;">
152-166</span> </td>
</tr>
</tbody>
</table>
<h2>In-class Lab 12.2</h2>
<ol type="I">
<li class="row0">
<p>Exercise 1</p>
<ol type="1">
<li class="row0">
<p>
In this lab, we are going to implement the Guest Book example at the end of Unit 
12. You should download the Unit 12 PHP scripts from Blackboard to your virtual
machine or lab computer if you have not already done so. We will modify the
<b>messages.php</b> and <b>guestbook.php</b> scripts and use them in this lab.
</p>
</li>
<li class="row1">
<p>
First we need to create the "messages" table used by the two scripts. Here is
the SQL to create the table:
</p>
<code>
create TABLE messages<br>
( id INT NOT NULL AUTO_INCREMENT<br>
, subject VARCHAR(150)<br>
, body TEXT<br>
, PRIMARY KEY(id)<br>
);<br>
</code>
</li>
<li class="row0">
<p>
You may either create the "messages" table using <b>phpMyAdmin</b> on the
class server. Follow this link from the Blackboard version of this lab, to do so:
<a href="http://itins3.matcmadison.edu/phpmyadmin/">http://itins3.matcmadison.edu/phpmyadmin/</a>
</p>
</li>
<li class="row1">
<p>
Or you may create the table using the MySQL command-line client. Connect to the
class server database from your local MySQL client using a command similar to:
</p>
<code>
mysql -u astudent -h itins3.matcmadison.edu -p
</code>
<p>
You have full access to a MySQL database schema on the class server with the
same name as your MySQL username (your first initial and last name, all lowercase).
</p>
</li><li class="row0">
<p>
If using your Linux VM, create directory <b>lab12</b> under your
<b>/var/www/labs</b> directory, if it does not exist.
Otherwise create directory <b>lab12</b> under the document root of whatever
web server you are using.
On the MATC Windows lab computers that will be: <b>C:\xampp\htdocs</b>
If using XAMPP on your external USB drive it will probably be: <b>E:\xampp\htdocs</b>
</p>
</li>
<li class="row1">
<p>
Copy the <b>messages.php</b> and <b>guestbook.php</b> scripts to the lab12
directory you created.
</p>
</li>
<li class="row0">
<p>
Modify the two scripts to connect to the class server rather than "localhost", to
use your MySQL username and password, and to connect to your personal database
on the class server (where you created the messages table).
</p>
</li>
<li class="row1">
<p>
First add a few messages to your table using your modified messages.php script.
Then use your modified guestbook.php script to display all messages from your table.
</p></li>
<li class="row1">
<p>
Just to be sure, inspect your "messages" table directly using either the MySQL
command-line tool or phpMyAdmin to verify it contains the messages you wrote.
</p></li>
<li class="row1">
<p>
Test your version of the Guest Book application to be sure it works correctly,
and show it to your instructor.
</p></li>
</ol>
<p><hr width="75%" /></p>
</li>
</ol>
</body>
</html>
