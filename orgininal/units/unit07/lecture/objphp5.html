<!DOCTYPE html PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html>
<head>
<meta name="generator" content="HTML Tidy, see www.w3.org">
<title>PHP5 Features</title>
<link href="../../../css/basic.css" rel="stylesheet" type="text/css">
<script type="text/javascript" language="JavaScript">
<!--
function putSemester() {
    var today=new Date();
    var thisMonth=today.getMonth()+1;
    var thisYear=today.getFullYear();
    if(thisMonth <=6) {
        return "Spring, " + thisYear;
    }
    else {
       return "Fall, " + thisYear;
    }
}//-->
</script>
<style type="text/css">
<!--
    .bgStripes {
        background-image:url(../../../images/Xstripes.gif);
        background-attachment: fixed;
    }
    body {
        background-color:white;
    }
    strong {
        font-family: Arial, Helvetica, sans-serif;
    }
-->
</style>
</head>
<body style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">
<table class="bgStripes" border="0" width="100%">
<tbody>
<tr name="firstRow">
<td valign="top" width="80"><span style="font-size: x-small; font-weight: bold;">
<script type="text/javascript">
<!--
    document.write(putSemester());
-->
</script>
</span> <br>
</td>
<td style="text-align: center;"><span style="font-weight: bold; font-size: medium; color: darkblue;">
PHP Web Development with MySQL
</span> </td>
<td align="right" valign="top" width="80"><span style="font-size: x-small; font-weight: bold;">
3 Credits</span> </td>
</tr>
<tr>
<td colspan="3" style="text-align: center;"><span style="font-size: xx-small; font-weight: bold;">
152-166</span> </td>
</tr>
</tbody>
</table>
<!--The heading for the slides --> <br>
<table class="headTable1" border="0">
<tbody>
<tr>
<td width="100"><a href="objects.html"><img alt="" src="../../../images/btn_lArrow.gif" border="0"></a><a href="index.html"><img alt="" src="../../../images/btn_upArrow.gif" border="0"></a><a href="exception.html"><img alt="" src="../../../images/btn_rArrow.gif" border="0"></a></td>
<td>Some PHP 5 Object Features</td>
</tr>
</tbody>
</table>
<br>
<div class="disp1">
<ul class="slidesUl1">
<li><p>
PHP 5 provided a number of new features for object-oriented programmers, some of
which are discussed here and some of which are beyond the scope of this unit.
</p><p>
Not included are some of the magic methods, cloning, abstraction, iterators, and interfaces.
</p></li>
<li><p>
Final Classes and Methods
</p><p>
A class that has been declared "final" cannot be inherited. Methods that have
been declared as final can be used within subclasses, but they cannot be overridden.
Let's consider an example next.
</p>
<h4>
Filename: final.php
</h4>
<blockquote><small>
<div class="disp2">
<PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;?php</span>
<span class="gutter">   2:</span>  <span class="syntax8">class</span><span class="syntax8"> </span><span class="syntax11">Computer</span><span class="syntax11"> </span><span class="syntax18">{</span>
<span class="gutter">   3:</span>    <span class="syntax8">private</span> <span class="syntax10">$</span><span class="syntax10">serial_number</span><span class="syntax18">;</span>
<span class="gutter">   4:</span>    <span class="syntax8">final</span> <span class="syntax8">function</span> <span class="syntax6">setSerialNumber</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">serial_number</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutterH">   5:</span>      <span class="syntax11">$this</span><span class="syntax11">-&gt;serial_number</span> <span class="syntax18">=</span> <span class="syntax10">$</span><span class="syntax10">serial_number</span><span class="syntax18">;</span>
<span class="gutter">   6:</span>    <span class="syntax18">}</span>
<span class="gutter">   7:</span>  <span class="syntax18">}</span>
<span class="gutter">   8:</span>  
<span class="gutter">   9:</span>  <span class="syntax8">class</span><span class="syntax8"> </span><span class="syntax11">Laptop</span><span class="syntax11"> </span><span class="syntax8">extends</span><span class="syntax11"> </span><span class="syntax11">Computer</span><span class="syntax11"> </span><span class="syntax18">{</span>
<span class="gutterH">  10:</span>    <span class="syntax8">private</span> <span class="syntax10">$</span><span class="syntax10">new_serial_number</span><span class="syntax18">;</span>
<span class="gutter">  11:</span>    <span class="syntax8">function</span> <span class="syntax6">setSerialNumber</span><span class="syntax18">(</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">  12:</span>      <span class="syntax11">$this</span><span class="syntax11">-&gt;new_serial_number</span><span class="syntax18">=</span><span class="syntax10">$</span><span class="syntax10">new_serial_number</span><span class="syntax18">;</span>
<span class="gutter">  13:</span>    <span class="syntax18">}</span>
<span class="gutter">  14:</span>  <span class="syntax18">}</span>
<span class="gutterH">  15:</span>  
<span class="gutter">  16:</span>  <span class="syntax11">$portable</span><span class="syntax11">-&gt;new</span> <span class="syntax6">Laptop</span><span class="syntax18">(</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  17:</span>  <span class="syntax10">$</span><span class="syntax10">portable</span> <span class="syntax18">-</span><span class="syntax18">&gt;</span> <span class="syntax6">setSerialNumber</span><span class="syntax18">(</span><span class="syntax14">&quot;</span><span class="syntax14">abc</span><span class="syntax14">!</span><span class="syntax14">@</span><span class="syntax10">$</span><span class="syntax14">#</span><span class="syntax14">&quot;</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  18:</span><span class="syntax17">?&gt;</span>
</span>
</PRE>
</div>
</small></blockquote>
<p>
A private property member named $serial_number is declared for the Computer class.
</p><p>
The <b>setSerialNumber()</b> method has been declared final, meaning that a
child class cannot redefine or override it. This prevents a subclass from
changing the serial number.
</p><p>
The Laptop class is a subclass of the Computer class. It declares a private
property called $new_serial_number and a method named setSerialNumber().
</p><p>
The purpose of this class is to override the parent method of the same name and
provide a new private serial number, but a fatal error occurs when the method
setSerialNumber() in the child class is called. A method that is declared final
cannot be overridden.
</p></li>
<li><p>
Static Members
</p><p>
Static members are new with PHP 5. They are properties or methods that do not
require an instance of an object to be used.
</p><p>
Static members are also called "class" members because they are created by and
for the class as a whole. They are like global variables in any other PHP script
in that they are available throughout the class.
</p><p>
You can access a static property or method with the name of the class or the
special class keyword "self".
</p>
<h4>
Filename: static.php
</h4>
<blockquote><small>
<div class="disp2">
<PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;?php</span>
<span class="gutter">   2:</span>  <span class="syntax8">class</span><span class="syntax8"> </span><span class="syntax11">House</span><span class="syntax11"> </span><span class="syntax18">{</span>
<span class="gutter">   3:</span>    <span class="syntax8">static</span> <span class="syntax10">$</span><span class="syntax10">houseCount</span><span class="syntax18">;</span>
<span class="gutter">   4:</span>    <span class="syntax8">private</span> <span class="syntax10">$</span><span class="syntax10">owner</span><span class="syntax18">;</span>
<span class="gutterH">   5:</span>    <span class="syntax8">public</span> <span class="syntax10">$</span><span class="syntax10">address</span><span class="syntax18">;</span>
<span class="gutter">   6:</span>
<span class="gutter">   7:</span>    <span class="syntax8">function</span> <span class="syntax9">__construct</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">owner</span><span class="syntax18">,</span><span class="syntax10">$</span><span class="syntax10">address</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">   8:</span>      <span class="syntax11">self</span><span class="syntax11">::</span><span class="syntax10">$</span><span class="syntax10">houseCount</span><span class="syntax18">+</span><span class="syntax18">+</span><span class="syntax18">;</span>
<span class="gutter">   9:</span>      <span class="syntax11">$this</span><span class="syntax11">-&gt;owner</span> <span class="syntax18">=</span> <span class="syntax10">$</span><span class="syntax10">owner</span><span class="syntax18">;</span>
<span class="gutterH">  10:</span>      <span class="syntax11">$this</span><span class="syntax11">-&gt;address</span> <span class="syntax18">=</span> <span class="syntax10">$</span><span class="syntax10">address</span><span class="syntax18">;</span>
<span class="gutter">  11:</span>      <span class="syntax8">echo</span> <span class="syntax14">&quot;</span><span class="syntax14">Constructor</span><span class="syntax14"> </span><span class="syntax14">initializing</span><span class="syntax14"> </span><span class="syntax14">a</span><span class="syntax14"> </span><span class="syntax14">new</span><span class="syntax14"> </span><span class="syntax14">house</span><span class="syntax14"> </span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  12:</span>      <span class="syntax8">echo</span> <span class="syntax14">&quot;</span><span class="syntax14">in</span><span class="syntax14"> </span><span class="syntax14">the</span><span class="syntax14"> </span><span class="syntax14">&quot;</span><span class="syntax18">,</span> <span class="syntax9">get_class</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">this</span><span class="syntax18">)</span><span class="syntax18">,</span><span class="syntax14">&quot;</span><span class="syntax14"> </span><span class="syntax14">class</span><span class="syntax14">.</span><span class="syntax14">\n</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  13:</span>      <span class="syntax8">echo</span> <span class="syntax14">&quot;</span><span class="syntax14">So</span><span class="syntax14"> </span><span class="syntax14">far</span><span class="syntax14">,</span><span class="syntax14"> </span><span class="syntax14">we</span><span class="syntax14"> </span><span class="syntax14">have</span><span class="syntax14"> </span><span class="syntax14">built</span><span class="syntax14"> </span><span class="syntax14">&quot;</span><span class="syntax18">,</span> <span class="syntax11">self</span><span class="syntax11">::</span><span class="syntax10">$</span><span class="syntax10">houseCount</span><span class="syntax18">,</span>
<span class="gutter">  14:</span>           <span class="syntax14">&quot;</span><span class="syntax14"> </span><span class="syntax14">houses</span><span class="syntax14">.</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutterH">  15:</span>    <span class="syntax18">}</span>
<span class="gutter">  16:</span>  <span class="syntax18">}</span>
<span class="gutter">  17:</span>  <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">Using</span><span class="syntax2"> </span><span class="syntax2">the</span><span class="syntax2"> </span><span class="syntax2">class</span><span class="syntax2"> </span><span class="syntax2">to</span><span class="syntax2"> </span><span class="syntax2">create</span><span class="syntax2"> </span><span class="syntax2">objects</span>
<span class="gutter">  18:</span>  <span class="syntax11">$myHouse</span><span class="syntax18">=</span> <span class="syntax8">new</span> <span class="syntax6">House</span><span class="syntax18">(</span><span class="syntax14">&quot;</span><span class="syntax14">Joe</span><span class="syntax14">&quot;</span><span class="syntax18">,</span><span class="syntax14">&quot;</span><span class="syntax14">13</span><span class="syntax14"> </span><span class="syntax14">River</span><span class="syntax14"> </span><span class="syntax14">Road</span><span class="syntax14">&quot;</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  19:</span>  <span class="syntax11">$yourHouse</span> <span class="syntax18">=</span> <span class="syntax8">new</span> <span class="syntax6">House</span><span class="syntax18">(</span><span class="syntax14">&quot;</span><span class="syntax14">Brad</span><span class="syntax14">&quot;</span><span class="syntax18">,</span><span class="syntax14">&quot;</span><span class="syntax14">1</span><span class="syntax14"> </span><span class="syntax14">Roundabout</span><span class="syntax14"> </span><span class="syntax14">Drive</span><span class="syntax14">&quot;</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutterH">  20:</span>  <span class="syntax11">$theirHouse</span><span class="syntax18">=</span><span class="syntax8">new</span> <span class="syntax6">House</span><span class="syntax18">(</span><span class="syntax14">&quot;</span><span class="syntax14">Mary</span><span class="syntax14">&quot;</span><span class="syntax18">,</span> <span class="syntax14">&quot;</span><span class="syntax14">5</span><span class="syntax14"> </span><span class="syntax14">Outthere</span><span class="syntax14"> </span><span class="syntax14">Street</span><span class="syntax14">&quot;</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  21:</span><span class="syntax17">?&gt;</span></span>
</PRE>
</div>
</small></blockquote>
<p>
In the House class, a static property is declared with the static keyword.
</p><p>
The static variable is not associated with a specific object, only the class,
which can be referenced with "self" and two colons.
</p><p>
Each time the constructor method is called, the value of the static variable
will be incremented by 1. We are keeping track of the number of objects that
are created.
</p></li>
<li><p>
Class Constants
</p><p>
Rising gas prices, taxes, and death are constants. You can create global
constants by using PHP's <b>define()</b> function.
</p><p> 
PHP 5 allows you to encapsulate constants within a class. They are not objects
and cannot be referenced with $this. Constants represent values that are not
expected to change and can be used by the class as a whole.
</p><p>
Samples of such values might be the document root of this server, the database
host and password, and so on.
</p><p>
Once declared, constants cannot be changed by the program. They are declared
with the <b>const</b> keyword and are referenced with the class name or "self"
and the scope resolution operator followed by the name of the constant.
</p>
<h4>
Filename: constant.php
</h4>
<blockquote><small>
<div class="disp2">
<PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;?php</span>
<span class="gutter">   2:</span>  <span class="syntax8">class</span><span class="syntax8"> </span><span class="syntax11">House</span><span class="syntax11"> </span><span class="syntax18">{</span>
<span class="gutter">   3:</span>    <span class="syntax8">const</span> TAX_COLLECTOR <span class="syntax18">=</span> <span class="syntax14">&quot;</span><span class="syntax14">Dick</span><span class="syntax14"> </span><span class="syntax14">Scrooge</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">   4:</span>    <span class="syntax8">const</span> COUNTY <span class="syntax18">=</span> <span class="syntax14">&quot;</span><span class="syntax14">Butte</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutterH">   5:</span>    
<span class="gutter">   6:</span>    <span class="syntax8">private</span> <span class="syntax10">$</span><span class="syntax10">owner</span><span class="syntax18">;</span>
<span class="gutter">   7:</span>    <span class="syntax8">public</span> <span class="syntax10">$</span><span class="syntax10">address</span><span class="syntax18">;</span>
<span class="gutter">   8:</span>    
<span class="gutter">   9:</span>    <span class="syntax8">function</span> <span class="syntax9">__construct</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">owner</span><span class="syntax18">,</span><span class="syntax10">$</span><span class="syntax10">address</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutterH">  10:</span>      <span class="syntax11">$this</span><span class="syntax11">-&gt;owner</span> <span class="syntax18">=</span> <span class="syntax10">$</span><span class="syntax10">owner</span><span class="syntax18">;</span>
<span class="gutter">  11:</span>      <span class="syntax11">$this</span><span class="syntax11">-&gt;address</span> <span class="syntax18">=</span> <span class="syntax10">$</span><span class="syntax10">address</span><span class="syntax18">;</span>
<span class="gutter">  12:</span>      <span class="syntax8">echo</span> <span class="syntax13">'</span><span class="syntax13">Constructor</span><span class="syntax13"> </span><span class="syntax13">initializing</span><span class="syntax13"> </span><span class="syntax13">a</span><span class="syntax13"> </span><span class="syntax13">new</span><span class="syntax13"> </span><span class="syntax13">house</span><span class="syntax13"> </span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutter">  13:</span>      <span class="syntax8">echo</span> <span class="syntax13">'</span><span class="syntax13">in</span><span class="syntax13"> </span><span class="syntax13">the</span><span class="syntax13"> </span><span class="syntax13">'</span><span class="syntax18">,</span> <span class="syntax9">get_class</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">this</span><span class="syntax18">)</span><span class="syntax18">,</span><span class="syntax13">'</span><span class="syntax13"> </span><span class="syntax13">class.&lt;br&gt;</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutter">  14:</span>    <span class="syntax18">}</span>
<span class="gutterH">  15:</span>    <span class="syntax8">function</span> <span class="syntax6">Tax_info</span><span class="syntax18">(</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">  16:</span>      <span class="syntax8">echo</span> <span class="syntax13">'</span><span class="syntax13">The</span><span class="syntax13"> </span><span class="syntax13">tax</span><span class="syntax13"> </span><span class="syntax13">collector</span><span class="syntax13"> </span><span class="syntax13">for</span><span class="syntax13"> </span><span class="syntax13">'</span><span class="syntax18">,</span> <span class="syntax11">self</span><span class="syntax11">::</span>COUNTY<span class="syntax18">,</span>
<span class="gutter">  17:</span>           <span class="syntax13">'</span><span class="syntax13"> </span><span class="syntax13">is</span><span class="syntax13"> </span><span class="syntax13">'</span><span class="syntax18">,</span> <span class="syntax11">self</span><span class="syntax11">::</span>TAX_COLLECTOR<span class="syntax18">,</span><span class="syntax13">'</span><span class="syntax13">.&lt;br&gt;</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutter">  18:</span>      <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">could</span><span class="syntax2"> </span><span class="syntax2">use</span><span class="syntax2"> </span><span class="syntax2">House::County</span><span class="syntax2"> </span><span class="syntax2">or</span><span class="syntax2"> </span><span class="syntax2">House::TAX_COLLECTOR</span>
<span class="gutter">  19:</span>    <span class="syntax18">}</span>
<span class="gutterH">  20:</span>  <span class="syntax18">}</span>
<span class="gutter">  21:</span>  <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">Using</span><span class="syntax2"> </span><span class="syntax2">the</span><span class="syntax2"> </span><span class="syntax2">class</span><span class="syntax2"> </span><span class="syntax2">to</span><span class="syntax2"> </span><span class="syntax2">create</span><span class="syntax2"> </span><span class="syntax2">objects</span>
<span class="gutter">  22:</span>  <span class="syntax11">$myHouse</span> <span class="syntax18">=</span> <span class="syntax8">new</span> <span class="syntax6">House</span><span class="syntax18">(</span><span class="syntax14">&quot;</span><span class="syntax14">Joe</span><span class="syntax14">&quot;</span><span class="syntax18">,</span><span class="syntax14">&quot;</span><span class="syntax14">13</span><span class="syntax14"> </span><span class="syntax14">River</span><span class="syntax14"> </span><span class="syntax14">Road</span><span class="syntax14">&quot;</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  23:</span>  <span class="syntax11">$yourHouse</span> <span class="syntax18">=</span> <span class="syntax8">new</span> <span class="syntax6">House</span><span class="syntax18">(</span><span class="syntax14">&quot;</span><span class="syntax14">Brad</span><span class="syntax14">&quot;</span><span class="syntax18">,</span><span class="syntax14">&quot;</span><span class="syntax14">1</span><span class="syntax14"> </span><span class="syntax14">Roundabout</span><span class="syntax14"> </span><span class="syntax14">Drive</span><span class="syntax14">&quot;</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  24:</span>  <span class="syntax11">$theirHouse</span> <span class="syntax18">=</span> <span class="syntax8">new</span> <span class="syntax6">House</span><span class="syntax18">(</span><span class="syntax14">&quot;</span><span class="syntax14">Mary</span><span class="syntax14">&quot;</span><span class="syntax18">,</span> <span class="syntax14">&quot;</span><span class="syntax14">5</span><span class="syntax14"> </span><span class="syntax14">Outthere</span><span class="syntax14"> </span><span class="syntax14">Street</span><span class="syntax14">&quot;</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutterH">  25:</span>  <span class="syntax11">House</span><span class="syntax11">::</span><span class="syntax6">Tax_info</span><span class="syntax18">(</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  26:</span><span class="syntax17">?&gt;</span>
<span class="gutter">  27:</span></span>
</PRE>
</div>
</small></blockquote>
<p>
Two constants for the class House are defined. These are values that are not
expected to change for any instance of the class.
</p><p>
They are called class constants. Outside the class constants are declared with
the <b>define()</b> function.
</p><p>
The "self::" syntax refers to the name of the current class. You could also say
<b>House::County</b> to mean the same thing.
</p><p>
We can call the Tax_info() function without having to specify an instance of the
class. It behaves the same for all objects. The "House::" syntax tells PHP to
go to the House class and call the function Tax_info().
</p></li>
<li><p>
Reusing a Class
</p><p>
The following example starts with a class that will be used to create a
guest book.
</p><p>
The class is stored in a separate file that will be included in a
PHP self-processing form file. The information for the guest book will come
from an HTML form.
</p><p>
After the user fills out the fields in the HTML form, PHP will extract the form
data. A new GuestBook object is created and the input from the form is assigned
as properties to the object.
</p><p>
After all the information is assigned to the object, the class methods will
display the data in the guest book and send it to a text file.
</p><p>
This is a very simple form and a very simple class. The form consists of text
fields and a submit button. The class consists of private property variables
and setter and getter access methods.
</p><p>
You could create a constructor and destructor for the class, later extend the
class to include e-mail and cell phone data, save the information in a database
rather than a text file, and certainly add error checking, or form validation with
regular expressions.
</p><p>
The basic class can be used and reused, the class details can be changed,
but the user should not be concerned about internal changes to the class as
long as the interface remains the same.
</p>
<h4>
Filename: guestBook.php - The Class File
</h4>
<blockquote><small>
<div class="disp2">
<PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;?php</span>
<span class="gutter">   2:</span>  <span class="syntax8">class</span><span class="syntax8"> </span><span class="syntax11">GuestBook</span><span class="syntax11"> </span><span class="syntax18">{</span>
<span class="gutter">   3:</span>    <span class="syntax8">protected</span> <span class="syntax10">$</span><span class="syntax10">name</span><span class="syntax18">;</span>
<span class="gutter">   4:</span>    <span class="syntax8">protected</span> <span class="syntax10">$</span><span class="syntax10">address</span><span class="syntax18">;</span>
<span class="gutterH">   5:</span>    <span class="syntax8">protected</span> <span class="syntax10">$</span><span class="syntax10">phone</span><span class="syntax18">;</span>
<span class="gutter">   6:</span>    <span class="syntax8">protected</span> <span class="syntax10">$</span><span class="syntax10">birthday</span><span class="syntax18">;</span>
<span class="gutter">   7:</span>    <span class="syntax8">private</span> <span class="syntax10">$</span><span class="syntax10">file</span><span class="syntax18">;</span>
<span class="gutter">   8:</span>    
<span class="gutter">   9:</span>    <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">Setters</span>
<span class="gutterH">  10:</span>    <span class="syntax8">function</span> <span class="syntax9">setName</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">name</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">  11:</span>      <span class="syntax11">$this</span><span class="syntax11">-&gt;name</span> <span class="syntax18">=</span> <span class="syntax10">$</span><span class="syntax10">name</span><span class="syntax18">;</span>
<span class="gutter">  12:</span>    <span class="syntax18">}</span>
<span class="gutter">  13:</span>    <span class="syntax8">function</span> <span class="syntax6">setAddress</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">address</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">  14:</span>      <span class="syntax11">$this</span><span class="syntax11">-&gt;address</span> <span class="syntax18">=</span> <span class="syntax10">$</span><span class="syntax10">address</span><span class="syntax18">;</span>
<span class="gutterH">  15:</span>    <span class="syntax18">}</span>
<span class="gutter">  16:</span>    <span class="syntax8">function</span> <span class="syntax6">setPhone</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">phone</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">  17:</span>      <span class="syntax11">$this</span><span class="syntax11">-&gt;phone</span> <span class="syntax18">=</span> <span class="syntax10">$</span><span class="syntax10">phone</span><span class="syntax18">;</span>
<span class="gutter">  18:</span>    <span class="syntax18">}</span>
<span class="gutter">  19:</span>    <span class="syntax8">function</span> <span class="syntax6">setBirthday</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">birthday</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutterH">  20:</span>      <span class="syntax11">$this</span><span class="syntax11">-&gt;birthday</span> <span class="syntax18">=</span> <span class="syntax10">$</span><span class="syntax10">birthday</span><span class="syntax18">;</span>
<span class="gutter">  21:</span>    <span class="syntax18">}</span>
<span class="gutter">  22:</span>    <span class="syntax8">function</span> <span class="syntax6">setFile</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">file</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">  23:</span>      <span class="syntax11">$this</span><span class="syntax11">-&gt;file</span> <span class="syntax18">=</span> <span class="syntax10">$</span><span class="syntax10">file</span><span class="syntax18">;</span>
<span class="gutter">  24:</span>    <span class="syntax18">}</span>
<span class="gutterH">  25:</span>    
<span class="gutter">  26:</span>    <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">Getters</span>
<span class="gutter">  27:</span>    <span class="syntax8">function</span> <span class="syntax9">getName</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">name</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">  28:</span>      <span class="syntax8">return</span> <span class="syntax11">$this</span><span class="syntax11">-&gt;name</span><span class="syntax18">;</span>
<span class="gutter">  29:</span>    <span class="syntax18">}</span>
<span class="gutterH">  30:</span>    <span class="syntax8">function</span> <span class="syntax6">getAddress</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">address</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">  31:</span>      <span class="syntax8">return</span> <span class="syntax11">$this</span><span class="syntax11">-&gt;address</span><span class="syntax18">;</span>
<span class="gutter">  32:</span>    <span class="syntax18">}</span>
<span class="gutter">  33:</span>    <span class="syntax8">function</span> <span class="syntax6">getPhone</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">phone</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">  34:</span>      <span class="syntax8">return</span> <span class="syntax11">$this</span><span class="syntax11">-&gt;phone</span><span class="syntax18">;</span>
<span class="gutterH">  35:</span>    <span class="syntax18">}</span>
<span class="gutter">  36:</span>    <span class="syntax8">function</span> <span class="syntax6">getBirthday</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">birthday</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">  37:</span>      <span class="syntax8">return</span> <span class="syntax11">$this</span><span class="syntax11">-&gt;birthday</span><span class="syntax18">;</span>
<span class="gutter">  38:</span>    <span class="syntax18">}</span>
<span class="gutter">  39:</span>    <span class="syntax8">function</span> <span class="syntax6">getFile</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">file</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutterH">  40:</span>      <span class="syntax8">return</span> <span class="syntax11">$this</span><span class="syntax11">-&gt;file</span><span class="syntax18">;</span>
<span class="gutter">  41:</span>    <span class="syntax18">}</span>
<span class="gutter">  42:</span>      
<span class="gutter">  43:</span>    <span class="syntax8">function</span> <span class="syntax6">showGuest</span><span class="syntax18">(</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">  44:</span>      <span class="syntax8">echo</span> <span class="syntax14">&quot;</span><span class="syntax10">$</span><span class="syntax10">this</span><span class="syntax14">-</span><span class="syntax14">&gt;</span><span class="syntax14">name</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutterH">  45:</span>      <span class="syntax8">echo</span> <span class="syntax14">&quot;</span><span class="syntax10">$</span><span class="syntax10">this</span><span class="syntax14">-</span><span class="syntax14">&gt;</span><span class="syntax14">address</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  46:</span>      <span class="syntax8">echo</span> <span class="syntax14">&quot;</span><span class="syntax10">$</span><span class="syntax10">this</span><span class="syntax14">-</span><span class="syntax14">&gt;</span><span class="syntax14">phone</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  47:</span>      <span class="syntax8">echo</span> <span class="syntax14">&quot;</span><span class="syntax10">$</span><span class="syntax10">this</span><span class="syntax14">-</span><span class="syntax14">&gt;</span><span class="syntax14">birthday</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  48:</span>    <span class="syntax18">}</span>
<span class="gutter">  49:</span>    <span class="syntax8">function</span> <span class="syntax6">saveGuest</span><span class="syntax18">(</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutterH">  50:</span>      <span class="syntax10">$</span><span class="syntax10">outputstring</span> <span class="syntax18">=</span> <span class="syntax11">$this</span><span class="syntax11">-&gt;name</span> <span class="syntax18">.</span> <span class="syntax14">&quot;</span><span class="syntax14">:</span><span class="syntax14">&quot;</span><span class="syntax18">.</span> <span class="syntax11">$this</span><span class="syntax11">-&gt;address</span> <span class="syntax18">.</span><span class="syntax14">&quot;</span><span class="syntax14">:</span><span class="syntax14">&quot;</span>
<span class="gutter">  51:</span>                    <span class="syntax18">.</span> <span class="syntax11">$this</span><span class="syntax11">-&gt;phone</span><span class="syntax18">.</span><span class="syntax14">&quot;</span><span class="syntax14">:</span><span class="syntax14">&quot;</span><span class="syntax18">.</span> <span class="syntax11">$this</span><span class="syntax11">-&gt;birthday</span> <span class="syntax18">.</span><span class="syntax14">&quot;</span><span class="syntax14">\n</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  52:</span>      <span class="syntax10">$</span><span class="syntax10">path</span> <span class="syntax18">=</span> <span class="syntax14">&quot;</span><span class="syntax10">$</span><span class="syntax10">_SERVER</span><span class="syntax14">[</span><span class="syntax14">DOCUMENT_ROOT</span><span class="syntax14">]</span><span class="syntax14">/</span><span class="syntax14">.</span><span class="syntax14">.</span><span class="syntax14">/</span><span class="syntax14">guests</span><span class="syntax14">/</span><span class="syntax10">$</span><span class="syntax10">this</span><span class="syntax14">-</span><span class="syntax14">&gt;</span><span class="syntax14">file</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  53:</span>      <span class="syntax18">@</span> <span class="syntax10">$</span><span class="syntax10">fh</span> <span class="syntax18">=</span> <span class="syntax9">fopen</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">path</span><span class="syntax18">,</span><span class="syntax14">&quot;</span><span class="syntax14">ab</span><span class="syntax14">&quot;</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  54:</span>      <span class="syntax8">if</span><span class="syntax18"> (</span><span class="syntax18">!</span> <span class="syntax10">$</span><span class="syntax10">fh</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutterH">  55:</span>        <span class="syntax10">$</span><span class="syntax10">fh</span> <span class="syntax18">=</span> <span class="syntax9">fopen</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">path</span><span class="syntax18">,</span><span class="syntax14">&quot;</span><span class="syntax14">wb</span><span class="syntax14">&quot;</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  56:</span>      <span class="syntax18">}</span>
<span class="gutter">  57:</span>      <span class="syntax9">fwrite</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">fh</span><span class="syntax18">,</span> <span class="syntax10">$</span><span class="syntax10">outputstring</span><span class="syntax18">,</span> <span class="syntax9">strlen</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">outputstring</span><span class="syntax18">)</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  58:</span>      <span class="syntax9">fclose</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">fh</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  59:</span>      <span class="syntax8">echo</span> <span class="syntax14">&quot;</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14">&gt;</span><span class="syntax14">Data</span><span class="syntax14"> </span><span class="syntax14">saved</span><span class="syntax14"> </span><span class="syntax14">in</span><span class="syntax14"> </span><span class="syntax10">$</span><span class="syntax10">path</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutterH">  60:</span>    <span class="syntax18">}</span>
<span class="gutter">  61:</span>  <span class="syntax18">}</span>
<span class="gutter">  62:</span><span class="syntax17">?&gt;</span></span>
</PRE>
</div>
</small></blockquote>
<p>
The class GuestBook is declared in a file named guestBook.php.
</p><p>
The class variables (members) are defined. They are made protected members,
meaning they are available to the class where they are created and to any subclasses.
</p><p>
Setter methods are defined for the class; object-oriented functions that will
assign values to the properties of the class.
</p><p>
Getter methods are defined for the class; methods used to retrieve values from
the properties of the class.
</p><p>
A method called saveGuest() is declared. This method will open the guest book
file and save a string of guest information to the file. The properties for a
new guest entry are concatenated into a string called $outputstring .
</p><p>
The $path variable is assigned the full path to guestbook.txt, the file in this
example, where the guest information is stored.
</p><p>
The file is located in a directory or folder outside the server's document root
to prevent outsiders from accessing it.
</p><p>
The file is opened for appending and a handle to it returned in $fh. If there is
a problem in opening the file, the error message is
suppressed by prepending the statement with an "@" sign.
If the guestbook.txt file does not exist, it will be created and opened for writing.
</p>
<h4>
Filename: guestForm.php - The HTML Form and Class User
</h4>
<blockquote><small>
<div class="disp2">
<PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;?php</span>
<span class="gutter">   2:</span>  <span class="syntax8">include</span><span class="syntax18">(</span><span class="syntax14">&quot;</span><span class="syntax14">header</span><span class="syntax14">.</span><span class="syntax14">inc</span><span class="syntax14">.</span><span class="syntax14">php</span><span class="syntax14">&quot;</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">   3:</span>  <span class="syntax8">include</span><span class="syntax18">(</span><span class="syntax14">&quot;</span><span class="syntax14">guestBook</span><span class="syntax14">.</span><span class="syntax14">php</span><span class="syntax14">&quot;</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">   4:</span>  <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">Was</span><span class="syntax2"> </span><span class="syntax2">the</span><span class="syntax2"> </span><span class="syntax2">form</span><span class="syntax2"> </span><span class="syntax2">submitted?</span>
<span class="gutterH">   5:</span>  <span class="syntax8">if</span><span class="syntax18"> (</span><span class="syntax8">isset</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">_POST</span><span class="syntax18">[</span><span class="syntax13">'</span><span class="syntax13">submit</span><span class="syntax13">'</span><span class="syntax18">]</span><span class="syntax18">)</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">   6:</span>    <span class="syntax9">extract</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">_POST</span><span class="syntax18">)</span><span class="syntax18">;</span>           <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">Get</span><span class="syntax2"> </span><span class="syntax2">the</span><span class="syntax2"> </span><span class="syntax2">form</span><span class="syntax2"> </span><span class="syntax2">data</span>
<span class="gutter">   7:</span>    <span class="syntax1">/*</span><span class="syntax1"> </span><span class="syntax1">Use</span><span class="syntax1"> </span><span class="syntax1">the</span><span class="syntax1"> </span><span class="syntax1">AddressBook</span><span class="syntax1"> </span><span class="syntax1">Class</span><span class="syntax1"> </span><span class="syntax1">*/</span>
<span class="gutter">   8:</span>    <span class="syntax11">$entry</span><span class="syntax18">=</span> <span class="syntax8">new</span> <span class="syntax6">GuestBook</span><span class="syntax18">(</span><span class="syntax18">)</span><span class="syntax18">;</span> <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">Instantiate</span><span class="syntax2"> </span><span class="syntax2">the</span><span class="syntax2"> </span><span class="syntax2">class</span>
<span class="gutter">   9:</span>    <span class="syntax11">$entry</span><span class="syntax6">-&gt;setName</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">your_name</span><span class="syntax18">)</span><span class="syntax18">;</span>  <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">Assign</span><span class="syntax2"> </span><span class="syntax2">the</span><span class="syntax2"> </span><span class="syntax2">properties</span>
<span class="gutterH">  10:</span>    <span class="syntax11">$entry</span><span class="syntax6">-&gt;setAddress</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">your_address</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  11:</span>    <span class="syntax11">$entry</span><span class="syntax6">-&gt;setPhone</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">your_phone</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  12:</span>    <span class="syntax11">$entry</span><span class="syntax6">-&gt;setBirthday</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">your_bd</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  13:</span>    <span class="syntax11">$entry</span><span class="syntax6">-&gt;setFile</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">your_file</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  14:</span>    <span class="syntax11">$entry</span><span class="syntax6">-&gt;showGuest</span><span class="syntax18">(</span><span class="syntax18">)</span><span class="syntax18">;</span>  <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">Call</span><span class="syntax2"> </span><span class="syntax2">the</span><span class="syntax2"> </span><span class="syntax2">class</span><span class="syntax2"> </span><span class="syntax2">methods</span>
<span class="gutterH">  15:</span>    <span class="syntax11">$entry</span><span class="syntax6">-&gt;saveGuest</span><span class="syntax18">(</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  16:</span>  <span class="syntax18">}</span>
<span class="gutter">  17:</span>  <span class="syntax8">else</span> <span class="syntax18">{</span>
<span class="gutter">  18:</span><span class="syntax17">?&gt;</span>
<span class="gutter">  19:</span>  <span class="syntax17">&lt;form</span><span class="syntax17"> </span><span class="syntax17">action</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax17">&lt;?php</span> <span class="syntax8">echo</span> <span class="syntax10">$</span><span class="syntax10">_SERVER</span><span class="syntax18">[</span><span class="syntax13">'</span><span class="syntax13">PHP_SELF</span><span class="syntax13">'</span><span class="syntax18">]</span><span class="syntax18">;</span> <span class="syntax17">?&gt;</span><span class="syntax14">&quot;</span>
<span class="gutterH">  20:</span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17">method</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">POST</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">  21:</span>  <span class="syntax17">&lt;div</span><span class="syntax17"> </span><span class="syntax17">align</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">center</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">  22:</span>  <span class="syntax17">&lt;font</span><span class="syntax17"> </span><span class="syntax17">face</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">arial</span><span class="syntax14">&quot;</span><span class="syntax17"> </span><span class="syntax17">size</span><span class="syntax18">=</span><span class="syntax17">+</span><span class="syntax17">1</span><span class="syntax17">&gt;</span>
<span class="gutter">  23:</span>  <span class="syntax17">&lt;table</span><span class="syntax17"> </span><span class="syntax17">cellspacing</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">1</span><span class="syntax14">&quot;</span><span class="syntax17"> </span><span class="syntax17">cellpadding</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">1</span><span class="syntax14">&quot;</span><span class="syntax17"> </span><span class="syntax17">border</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">0</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">  24:</span>   <span class="syntax17">&lt;tr</span><span class="syntax17">&gt;</span><span class="syntax17">&lt;td</span><span class="syntax17">&gt;</span>Enter your name:<span class="syntax17">&lt;/td</span><span class="syntax17">&gt;</span>
<span class="gutterH">  25:</span>    <span class="syntax17">&lt;td</span><span class="syntax17">&gt;</span><span class="syntax17">&lt;input</span><span class="syntax17"> </span><span class="syntax17">type</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">text</span><span class="syntax14">&quot;</span><span class="syntax17"> </span><span class="syntax17">size</span><span class="syntax18">=</span><span class="syntax17">50</span><span class="syntax17"> </span><span class="syntax17">name</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">your_name</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span><span class="syntax17">&lt;/td</span><span class="syntax17">&gt;</span>
<span class="gutter">  26:</span>   <span class="syntax17">&lt;/tr</span><span class="syntax17">&gt;</span>
<span class="gutter">  27:</span>   <span class="syntax17">&lt;tr</span><span class="syntax17">&gt;</span><span class="syntax17">&lt;td</span><span class="syntax17">&gt;</span>Enter your address:<span class="syntax17">&lt;/td</span><span class="syntax17">&gt;</span>
<span class="gutter">  28:</span>    <span class="syntax17">&lt;td</span><span class="syntax17">&gt;</span><span class="syntax17">&lt;input</span><span class="syntax17"> </span><span class="syntax17">type</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">text</span><span class="syntax14">&quot;</span><span class="syntax17"> </span><span class="syntax17">size</span><span class="syntax18">=</span><span class="syntax17">50</span><span class="syntax17"> </span><span class="syntax17">name</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">your_address</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span><span class="syntax17">&lt;/td</span><span class="syntax17">&gt;</span>
<span class="gutter">  29:</span>   <span class="syntax17">&lt;/tr</span><span class="syntax17">&gt;</span>
<span class="gutterH">  30:</span>   <span class="syntax17">&lt;tr</span><span class="syntax17">&gt;</span><span class="syntax17">&lt;td</span><span class="syntax17">&gt;</span> Enter your phone:<span class="syntax17">&lt;/td</span><span class="syntax17">&gt;</span>
<span class="gutter">  31:</span>    <span class="syntax17">&lt;td</span><span class="syntax17">&gt;</span><span class="syntax17">&lt;input</span><span class="syntax17"> </span><span class="syntax17">type</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">text</span><span class="syntax14">&quot;</span><span class="syntax17"> </span><span class="syntax17">size</span><span class="syntax18">=</span><span class="syntax17">20</span><span class="syntax17"> </span><span class="syntax17">name</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">your_phone</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span><span class="syntax17">&lt;/td</span><span class="syntax17">&gt;</span>
<span class="gutter">  32:</span>   <span class="syntax17">&lt;/tr</span><span class="syntax17">&gt;</span>
<span class="gutter">  33:</span>   <span class="syntax17">&lt;tr</span><span class="syntax17">&gt;</span><span class="syntax17">&lt;td</span><span class="syntax17">&gt;</span>Enter your birthday:<span class="syntax17">&lt;/td</span><span class="syntax17">&gt;</span>
<span class="gutter">  34:</span>    <span class="syntax17">&lt;td</span><span class="syntax17">&gt;</span><span class="syntax17">&lt;input</span><span class="syntax17"> </span><span class="syntax17">type</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">text</span><span class="syntax14">&quot;</span><span class="syntax17"> </span><span class="syntax17">size</span><span class="syntax18">=</span><span class="syntax17">12</span><span class="syntax17"> </span><span class="syntax17">name</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">your_bd</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span><span class="syntax17">&lt;/td</span><span class="syntax17">&gt;</span>
<span class="gutterH">  35:</span>   <span class="syntax17">&lt;/tr</span><span class="syntax17">&gt;</span>
<span class="gutter">  36:</span>   <span class="syntax17">&lt;tr</span><span class="syntax17">&gt;</span><span class="syntax17">&lt;td</span><span class="syntax17">&gt;</span><span class="syntax17">&lt;input</span><span class="syntax17"> </span><span class="syntax17">type</span><span class="syntax18">=</span><span class="syntax17">hidden</span><span class="syntax17"> </span><span class="syntax17">name</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">your_file</span><span class="syntax14">&quot;</span>
<span class="gutter">  37:</span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17">value</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">guestbook</span><span class="syntax14">.</span><span class="syntax14">txt</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">  38:</span>    <span class="syntax17">&lt;/td</span><span class="syntax17">&gt;</span>
<span class="gutter">  39:</span>    <span class="syntax17">&lt;td</span><span class="syntax17">&gt;</span><span class="syntax17">&lt;input</span><span class="syntax17"> </span><span class="syntax17">type</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">submit</span><span class="syntax14">&quot;</span><span class="syntax17"> </span><span class="syntax17">name</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">submit</span><span class="syntax14">&quot;</span>
<span class="gutterH">  40:</span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17">value</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">Submit</span><span class="syntax14"> </span><span class="syntax14">Entry</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span><span class="syntax17">&lt;/td</span><span class="syntax17">&gt;</span>
<span class="gutter">  41:</span>   <span class="syntax17">&lt;/tr</span><span class="syntax17">&gt;</span>
<span class="gutter">  42:</span>   <span class="syntax17">&lt;tr</span><span class="syntax17">&gt;</span><span class="syntax17">&lt;td</span><span class="syntax17">&gt;</span><span class="syntax17">&lt;/td</span><span class="syntax17">&gt;</span>
<span class="gutter">  43:</span>    <span class="syntax17">&lt;td</span><span class="syntax17">&gt;</span><span class="syntax17">&lt;input</span><span class="syntax17"> </span><span class="syntax17">type</span><span class="syntax18">=</span><span class="syntax17">reset</span><span class="syntax17"> </span><span class="syntax17">value</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">Clear</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span><span class="syntax17">&lt;/td</span><span class="syntax17">&gt;</span>
<span class="gutter">  44:</span>   <span class="syntax17">&lt;/tr</span><span class="syntax17">&gt;</span>
<span class="gutterH">  45:</span>  <span class="syntax17">&lt;table</span><span class="syntax17">&gt;</span>
<span class="gutter">  46:</span>  <span class="syntax17">&lt;/div</span><span class="syntax17">&gt;</span>
<span class="gutter">  47:</span>  <span class="syntax17">&lt;/form</span><span class="syntax17">&gt;</span>
<span class="gutter">  48:</span><span class="syntax17">&lt;?php</span>
<span class="gutter">  49:</span>  <span class="syntax18">}</span>
<span class="gutterH">  50:</span>  <span class="syntax8">include</span><span class="syntax18">(</span><span class="syntax14">&quot;</span><span class="syntax14">footer</span><span class="syntax14">.</span><span class="syntax14">inc</span><span class="syntax14">.</span><span class="syntax14">php</span><span class="syntax14">&quot;</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  51:</span><span class="syntax17">?&gt;</span></span>
</PRE>
</div>
</small></blockquote>
<p>
If the form has already been submitted by the user, PHP extracts the form data
and assigns it to variables of the same name.
</p><p>
A new object of class <b>GuestBook</b> is created and a reference to it is assigned to
$entry.
</p><p>
The <b>showGuest()</b> method retrieves and displays the data that was collected from the form.
Then the <b>saveGuest()</b> method is called to save the guest information in the file:
<b>guestbook.txt</b>
</p><p>
If the form has not been submitted, the PHP <b>else</b> block beginning on line 17
is executed including a self-processing HTML form.
</p><p>
The hidden field defined on lines 36-37 contains the name of the file where the
guest information is stored.
</p>
</li>
</ul>
</div>
</body>
</html>
